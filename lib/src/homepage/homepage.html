<stanford-logo></stanford-logo>



<section *ngIf="isResult == false">

    <material-expansionpanel-set *ngIf="isResult == false && isLoading == false">
        <material-expansionpanel class = "expansion-customization-panel"
                                    wide
                                 autoDismissable
                                 [showSaveCancel]="false"
                                 value="All conversions"
                                 [expanded]="isCustomToolBeltPanelExpanded"
                                 (expandedChange)="isCustomToolBeltPanelExpanded = $event">
            <div name >
                <p class = "header-requestContent">Customization</p>
            </div>

            <div class = "panel-content">
                <div class = "word-count-div">
                    <p class="word-count-title">Word Count:</p>
                    <material-input type="number" keypressUpdate required [(ngModel)]="wordCount" label="Input number here">
                    </material-input>
                </div>
                <div class = "content-percent-div">

                    <p class="word-count-title">Summary Ratio:</p>
                    <material-slider [(value)]="contentPercent"
                                     [min]="20"
                                     [step]="5"
                                     [max]="75"></material-slider>

                    <span class="slider-value">{{contentPercent}}%</span>

                </div>
            </div>
            <div toolbelt>
                <material-button class="color--primary-reset" (click)="cancelCustomization()">
                    <material-icon class="icon-format" icon="cancel"></material-icon>
                    Cancel
                </material-button>
                <material-button class="color--primary-action" (click)="submitCustomization()">
                    <material-icon class="icon-format" icon="check" ></material-icon>
                    OK
                </material-button>
            </div>


        </material-expansionpanel>
    </material-expansionpanel-set>

    <skawa-card id="card-input-main" [ngClass]="{'invalid': errorMessage}">
        <skawa-card-header statusColor="rgb(140,21,21)" id="card-input-header">
            <skawa-header-title>Essay Analysis: </skawa-header-title>
        </skawa-card-header>

        <skawa-card-content>
                <div class="lds-css ng-scope" *ngIf="isLoading">
                    <div style="width:100%;height:100%" class="lds-dual-ring">
                        <div></div>
                    </div>
                </div>
        </skawa-card-content>

        <skawa-card-content *ngIf="isResult == false && isLoading == false">
            <material-input class="card-input-size darkgrey nounderline"
                            multiline
                            rows="10"
                            type="text"
                            label="Please Input Text Here"
                            blurUpdate [(ngModel)]="boundText">
            </material-input>
        </skawa-card-content>
        <skawa-card-actions align-right id="card-input-actions" *ngIf="isResult == false && isLoading == false">
            <material-button class="color--primary-reset" (click)="clearText">
                <material-icon class="icon-format" icon="refresh"></material-icon>
                Clear
            </material-button>
            <material-button class="color--primary-action" (click)="submitText">
                <material-icon class="icon-format" icon="check" ></material-icon>
                Submit
            </material-button>
        </skawa-card-actions>
    </skawa-card>

</section>


<section>
    <skawa-card id="error-card" *ngIf="errorMessage">
        <skawa-card-header id="error-card-message-header">
            <div id="error-card-icon-div">
                <material-icon id="error-message-icon" icon="clear"></material-icon>
            </div>
            <div id="error-card-text-content">
                <skawa-header-title id="error-message-title">Submit Failed !</skawa-header-title>
                <skawa-header-subhead id="error-message-sub">Either the text was empty or not long enough!</skawa-header-subhead>
            </div>
        </skawa-card-header>
    </skawa-card>
</section>


<result-page *ngIf="isResult" [textResult] = "textResult" [originalText] = "boundText"></result-page>